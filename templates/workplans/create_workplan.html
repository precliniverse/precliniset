{% extends "base.html" %}
{% from "_formhelpers.html" import render_field %}

{% block title %}{{ _('Create New Workplan') }}{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <h1>{{ _('Create New Workplan') }}</h1>
            <p class="lead">{{ _('For Project:') }} <a href="{{ url_for('projects.view_edit_project', project_slug=project.slug) }}">{{ project.name }}</a></p>

            <div class="card">
                <div class="card-body">
                    <form method="POST">
                        {{ form.hidden_tag() }}
                        <div class="mb-3">
                            {{ render_field(form.name, class="form-control") }}
                        </div>
                        <div class="mb-3">
                            {{ render_field(form.animal_model, class="form-select") }}
                        </div>
                        <div class="mb-3">
                            {{ render_field(form.planned_animal_count, class="form-control") }}
                        </div>
                        <div class="d-flex justify-content-end">
                            <a href="{{ url_for('projects.view_edit_project', project_slug=project.slug) }}" class="btn btn-secondary me-2">{{ _('Cancel') }}</a>
                            {{ form.submit(class="btn btn-primary") }}
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script nonce="{{ csp_nonce }}">
$(document).ready(function() {
    $('#animal_model').select2({
        theme: "bootstrap-5",
        placeholder: "{{ _('-- Select a Model --') }}",
        allowClear: true
    });
});
</script>
{% endblock %}
